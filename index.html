<!DOCTYPE html>
<html lang="zh-hans">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>我的导航</title>
    <link rel="stylesheet" href="./style.css">
</head>
<body>
    <header></header>
    <main>
        <div  class="wrapper"id="mainxxx">

        </div>
    </main>
    <footer></footer>
    <script>
        //1.初始化数据
        var keys={
            '0':{0:'1',1:'2',2:'3',3:'4',4:'5',5:'6',6:'7',7:'8',8:'9',9:'0',length:10},
            '1':{0:'q',1:'w',2:'e',3:'r',4:'t',5:'y',6:'u',7:'i',8:'o',9:'p',length:10},
            '2':{0:'a',1:'s',2:'d',3:'f',4:'g',5:'s',6:'j',7:'k',8:'l',length:9},
            '3':{0:'z',1:'x',2:'c',3:'v',4:'b',5:'n',6:'m',length:7},
            'length': 4
        }
        var hash={
            '1': 'www.sina.com.cn',
            '2': 'www.163.com',
            '3': 'undefined',
            '4': undefined,
            '5': 'taiya.con',
            '6': 'www.alipay.com',
            '7': 'www.10086.cn',
            '8': 'www.huangli.com',
            '9': '4399.com',
            '0': undefined,
            'q': 'qq.com',
            'w': 'weibo.com', 
            'e': 'ele.me',
            'r': 'renren.com',
            't': 'tianya.com',
            'y': 'yuyube.com', 
            'u': 'uc.com', 
            'i': 'iqyi.com',
            '0': 'opera.com',
            'p': undefined,
            'a': 'acfun.tv', 
            's': 'sohu.com', 
            'z': 'zhihu.com', 
            'm': 'www.mcdonal.com.cn'
        }


        //2.生产键盘
        var index = 0
        while(index< keys['length']){ // 0 1 2 3
            var div1 = document.createElement('div')
            div1.className = 'row'
            mainxxx.appendChild(div1)
            var row = keys [index]  // 第一个数组 第二个数组 第三个数组 第四个数组
            var index2 = 0
            while(index2< row['length']){
                var kbdxxx = document.createElement('kbd')
                //spanxxx = document .createElement('span')
                //spanxxx.className = 'text'
                kbdxxx.textContent = row[index2]
                //spanxxx.textContent = row[index2]
                //kbdxxx.appendChild(spanxxx)
                kbdxxx.className = 'key'
                var buttonxxx = document.createElement('button')
                buttonxxx.textContent = '编辑'
                buttonxxx.id = row[index2]
                var  imgxxx = document.createElement('img')
                //imgxxx.src = 'http://'+hash[row[index2]] + '/favican.ico'
                //if(hash[row[index2]]){
                   // imgxxx.src = 'http://'+hash[row[index2]] + '/favican.ico'

                //}else{
                   // imgxxx.src = ''
                //}
                //img.onerror = funtion(hhh){
                 //   hhh.target.src = ''
                //}
                buttonxxx.onclick = function(xxxx){
                    key = xxxx['target']['id']
                    //xxxx['tayget'] 就是用户点击的元素
                    x = prompt('给我一个网址')
                    hash[key] = x  //hash 变更
                    //img2.src = 'http ://'+x +'f/favison.ion'
                    //img2.onerror = funtion(hhh){xxx.targ.src = ''}
                    localStorage.setItem('zzz',JSON.stringify(hash))
                    console.log(hash)
                }
                kbdxxx.appendChild(imgxxx)
                kbdxxx.appendChild(buttonxxx)
                div1.appendChild(kbdxxx)
                index2 = index2 + 1
            }


            index = index+1
        }


        //J监听键盘和工具
        document.onkeypress = function(xxxxx){
            key = xxxxx['key']
            website = hash[key]
            //location.href = 'http://'+website
            window.open('http://'+website, '-blank')
        }
        //取出localstorage 中的 zzz 对应的hash
        var hashInlocalStorage = JSON.parse(localStorage.getItem('zzz') )
        if(hashInlocalStorage){
            hash = hashInlocalStorage
        }

        // 遍历 keys, 生成 kbd 标签  
     
              
    </script>

</body>
</html>